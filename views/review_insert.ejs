<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>리뷰 등록 페이지</title>
    <style>
        /* .tabTwo_2_leftBox  */
        h2 { text-align:center;}
        .tabTwo_2 { display:flex; justify-content:center; border:1px solid #999;}
        .tabTwo_2 { width:600px; margin:0 auto;}
        .tabTwo_2 .tabTwo_2_leftBox {width: 300px; padding:30px 0 0 0; }
        .tabTwo_2 .tabTwo_2_leftBox .userfile {  margin-right:10px;}
        .tabTwo_2 .tabTwo_2_leftBox .userName { margin-top:10px;}
        /* .tabTwo_2_rightBox  */
        /* top */
        .tabTwo_2 .tabTwo_2_conts { border-bottom:1px solid #ccc;}
        .tabTwo_2 .tabTwo_2_rightBox { margin-top:30px;  padding:10px 0 20px 0;}
        .tabTwo_2 .tabTwo_2_rightBox .tabTwo_2_rightBox_top .tabTwo2_rightTop .userselect_2{ display:block;}
        .tabTwo_2 .tabTwo_2_conts .tabTwo_2_rightBox .tabTwo_2_rightBox_top .tabTwo2_rightBot { color:#555; margin-top:10px;}
        /* cen */
        .tabTwo_2 .tabTwo_2_rightBox .tabTwo_2_rightBox_top .tabTwo2_rightCen h3 { margin:20px 0 15px 0; font-size:20px;}
        .tabTwo_2 .tabTwo_2_rightBox .tabTwo_2_rightBox_top .tabTwo2_rightBot { line-height:30px; font-size:20px; margin-bottom:10px; }
        .tabTwo_2 .tabTwo_2_conts .review_btn { margin-bottom:20px; }
    </style>
    
</head>
<body>
    <h2>리뷰 입력하기</h2>
    <form id="upload" class="tabTwo_2" action="/dbReview" method="post" enctype="multipart/form-data">
            <div class="tabTwo_2_conts">
                <div class="tabTwo_2_leftBox">
                    <!-- 닉네임 -->
                    <input id="userfile"  class="userfile"  type="file" name="thumbnail" required>
                    <!-- 닉네임 이름 -->
                    <input class="userName" type="text" name="userName" placeholder="사용자닉네임 입력" required >
                </div>
                <div class="tabTwo_2_rightBox">
                    <div class="tabTwo_2_rightBox_top">
                        <div class="tabTwo2_rightTop">
                            <!-- 평점 -->
                            <select class="userselect_1" name="userselect_1" required >
                                <option>별점 5점</option>
                            </select>
                            <!-- 날짜 -->
                            <span >날짜입력</span><input name="date" type="date" required >
                        </div>
                        <div class="tabTwo2_rightCen">
                            <!-- 상품명 선택 -->
                            <select name="userselect_2" required >
                                <option>더 사운드 배쓰</option>
                                <option>에프터블로우 바디</option>
                            </select>
                        </div>
                        <!-- 내용입력 -->
                        <textarea name="tabTwo2_rightBot" class="tabTwo2_rightBot" required ></textarea>
                    </div>
                    <div class="tabTwo_2_rightBox_bot">
                        <!-- 이미지 등록 -->
                        <input id="reviewfile" class="reviewfile" type="file" name="review">
                    </div>
                </div>
                <button id="submit" class="review_btn" type="submit">게시글 등록 완료</button>
            </div>
    </form>
    <script>
        // 첨부한 파일의 화장자 체크 기능
        // const upload = document.querySelector("#upload"); //데이터 전송역할
        // console.log(upload)
        // const userfile = document.querySelector('#userfile'); //파일첨부 inpput 태그
        // console.log(userfile)
        // const reviewfile = document.querySelector('#reviewfile'); //파일첨부 inpput 태그
        // console.log(reviewfile)
        // const Submit = document.querySelector('#submit'); //전송버튼
        // console.log(Submit)
        // const Check =[".jpg",".png",".jpeg",".gif"]; //체크할 확장자명

        Submit.addEventListener("click",(e)=>{
            //  1. 닉네임 사진
            e.preventDefault(); //페이지 이동 금지
            console.log(userfile.files[0].name);
            // 첨부한 파일명
            // let u_fileName = userfile.files[0].name; 
            // console.log("파일명은?" + u_fileName);
            // // 파일명 문자열 갯수값 
            // let u_fileLength = u_fileName.length; 
            // console.log("파일명 문자열 갯수" + u_fileLength);
            // //파일명에서 .기호 시작순번값 찾기
            // let u_fileDots = u_fileName.lastIndexOf("."); 
            // console.log(".기호가 시작하는 순번" + u_fileDots);
            // // 총길이에서 점이있는 곳까지의 추출한 확장자
            //                                 //시작번호값(포함) 끝번호값(불포) *갯수는 1부터 숫자는 0부터 세기
            // let u_fileExt = u_fileName.substring(fileDots,fileLength); 
            // console.log("추출한 확장자" + u_fileExt);
            // //추출한 확장명 문자열이 배열에 포함되어 있는지
            // let u_fileCheck = Check.includes(u_fileExt); 
            // console.log("체크결과" + u_fileCheck);

            // 2.리뷰사진
            // let r_fileName = reviewfile.files[0].name; 
            // let r_fileLength = r_fileName.length; 
            // let r_fileDots = r_fileName.lastIndexOf("."); 
            // let r_fileExt = r_fileName.substring(r_fileDots,r_fileLength); 
            // let r_fileCheck = Check.includes(r_fileExt); 

            // if( u_fileCheck ){
            //     upload.submit(); //데이터 전송
            // }
            // else{
            //     alert("이미지 파일만 첨부 가능합니다.");
            //     e.preventDefault(); //페이지 이동 금지
            // }
        })
        




    </script>
</body>
</html>