<!-- header -->
<%- include("header.ejs",{cssFiles:["sub2.css"]})%>
<div id="container">
        <div class="c1">
            <div class="c1_left">
                <div class="c1_left_box_top">
                    <div class="c1_left_topBox">
                        <h1>애프터블로우 매장 찾기</h1>
                    </div>
                    <div class="c1_left_centBox">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input class="search" type="search" placeholder="위치 검색">
                    </div>
                    <div class="c1_left_botBox">
                        <p>근처 매장: 15개</p>
                        <button>필터</button>
                    </div>
                </div>
                <div class="c1_left_box_bot">
                    <div class="c1_right_conts">
                        <div class="c1_right_cont">
                            <h3>에프터블로우 삼청점</h3>
                            <p>서울 특별시 종로구 북촌로 5길 </p>
                            <span>영업중</span>
                            <span>"영업시간 11:00-20:00"</span>
                        </div>
                        <div class="c1_right_cont">
                            <h3>에프터블로우 삼청 2호점</h3>
                            <p>서울 특별시 종로구 삼청동 19582-1 </p>
                            <span>영업중</span>
                            <span>"영업시간 10:00-18:00"</span>
                        </div>
                        <div class="c1_right_cont">
                            <h3>에프터블로우 한남동</h3>
                            <p>서울 특별시 용산구 이태원로 7길 </p>
                            <span>영업중</span>
                            <span>"영업시간 13:00-22:00"</span>
                        </div>
                        <div class="c1_right_cont">
                            <h3>에프터블로우 한남2호점</h3>
                            <p>서울 용산구 이태원로 54길  </p>
                            <span>영업중</span>
                            <span>"영업시간 10:00-18:00"</span>
                        </div>
                    </div>
                    <div class="c1_right_contAll">
                        <a href="#">모든 매장 보기</a>
                    </div>
                </div>
            </div>
            <div class="c1_right">
                <div id="map" style=" height:100%; width:100%"></div>
                <div class="map_wrap">
                    <div id="map" style="width:100%;height:100%;position:relative;overflow:hidden;"></div> 
                    <!-- 지도타입 컨트롤 div 입니다 -->
                    <div class="custom_typecontrol radius_border">
                        <span id="btnRoadmap" class="selected_btn" onclick="setMapType('roadmap')">지도</span>
                        <span id="btnSkyview" class="btn" onclick="setMapType('skyview')">스카이뷰</span>
                    </div>
                    <!-- 지도 확대, 축소 컨트롤 div 입니다 -->
                    <div class="custom_zoomcontrol radius_border"> 
                        <span onclick="zoomIn()"><img src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_plus.png" alt="확대"></span>  
                        <span onclick="zoomOut()"><img src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_minus.png" alt="축소"></span>
                    </div>
                </div>
            </div>
     
        </div>
    </div>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=89c535a2ce61d092914f985a00b802ca"></script>
    <script>
        var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
        var options = { //지도를 생성할 때 필요한 기본 옵션
            
            center: new kakao.maps.LatLng(37.578165, 126.973001), //지도의 중심좌표.
            level: 3 //지도의 레벨(확대, 축소 정도)
        };
        
        var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴   

      
            
    // 마커를 표시할 위치와 내용을 가지고 있는 객체 배열입니다 
    var positions = [
        {
            content: '<div>에프터블로우 삼청점</div>', 
            latlng: new kakao.maps.LatLng(37.578165, 126.973001)
        },
        {
            content: '<div>에프터블로우 삼청2호점</div>', 
            latlng: new kakao.maps.LatLng(37.577553, 126.984957)
        },
        {
            content: '<div>에프터블로우 한남동</div>', 
            latlng: new kakao.maps.LatLng(37.5375279, 127.0051334)
        },
        {
            content: '<div>에프터블로우 한남2호점</div>',
            latlng: new kakao.maps.LatLng(37.5532916, 126.9845912)
        }
    ];

    for (var i = 0; i < positions.length; i ++) {
        // 마커를 생성합니다
        var marker = new kakao.maps.Marker({
            map: map, // 마커를 표시할 지도
            position: positions[i].latlng // 마커의 위치
        });

        // 마커에 표시할 인포윈도우를 생성합니다 
        var infowindow = new kakao.maps.InfoWindow({
            content: positions[i].content // 인포윈도우에 표시할 내용
        });

        // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
        // 이벤트 리스너로는 클로저를 만들어 등록합니다 
        // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
        kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
        kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
    }

    // 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
    function makeOverListener(map, marker, infowindow) {
        return function() {
            infowindow.open(map, marker);
        };
    }

    // 인포윈도우를 닫는 클로저를 만드는 함수입니다 
    function makeOutListener(infowindow) {
        return function() {
            infowindow.close();
        };
    }



    </script>
    
    <!-- footer -->
    <%- include("footer.ejs",{jsFiles:["sub2.js","header.js"]}) %>
</body>

</html>